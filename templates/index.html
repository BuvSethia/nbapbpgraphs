<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
	<script src="/static/js/moment.js"></script>
	<script src="/static/js/Chart.min.js"></script>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </head>
  <body>
  	<div ng-app="mainApp" ng-controller="mainController">
		<div class="row">
			<h1 style="text-align: center; padding-bottom: 10px;">Play By Play Graphs</h1>
		</div>
		<div class="row">
			<div class="col-sm-5" id="dateInput" style="padding-left: 25px;">
				<form class="form-inline">
					<label for="date">Date:</label>
					<input type="text" class="form-control" id="date" name="date" ng-model="gamedate" placeholder="mm-dd-yyyy">
					<button type="submit" class="btn btn-primary" ng-click="getGamesForDate(gamedate)">Enter</button>
					<p ng-model="gameSelHelpText"></p>
				</form>
			</div>
			<div class="col-sm-5" id="gameSelect">
				<label for="gameSelector">Select Game</label>
				<select id="gameSelector" ng-model="gameMetadata" ng-options="item.id as item.name for item in gameMetadata">
    				<option value="">Select Game</option>
				</select>
			</div>
			<div class="col-sm-2">
			</div>
		</div>
		<hr>
		<div class="row">
		  <div class="col-sm-2">Menu goes here</div>
		  <div class="col-sm-10">
			<canvas id="myChart"></canvas>
		  </div>
		</div>
	</div>
  	<script src="/static/appjs/index.js"></script>
  </body>
</html>

<script>
	function getGamesForDate()
	{
		var date = document.getElementById('date').value

	}
	function createGraph(){
		//Chart.defualts.global.responsive = false;
		//Chart.defualts.global.maintainAspectRatio = false;
		var data = {
			labels: [moment("00:00","mm:ss"), moment("00:01","mm:ss"), moment("00:02","mm:ss"), moment("00:04","mm:ss"), moment("00:10","mm:ss"), moment("00:15","mm:ss"), moment("00:59","mm:ss")],
			datasets: [
				{
					label: "My First dataset",
					fill: false,
					fillColor: "rgba(220,220,220,0.0)",
					strokeColor: "rgba(220,220,220,1)",
					pointColor: "rgba(220,220,220,1)",
					pointStrokeColor: "#fff",
					pointHighlightFill: "#fff",
					pointHighlightStroke: "rgba(220,220,220,1)",
					data: [65, 59, 80, 81, 56, 55, 40]
				},
				{
					label: "My Second dataset",
					fill: false,
					fillColor: "rgba(201,0,0,0.0)",
					strokeColor: "rgba(201,0,0,1)",
					pointColor: "rgba(151,187,205,1)",
					pointStrokeColor: "#fff",
					pointHighlightFill: "#fff",
					pointHighlightStroke: "rgba(151,187,205,1)",
					data: [28, 48, 40, 19, 86, 27, 90]
				}
			]
		};
		var options = {
			scales: {
			  xAxes: [{
				type: 'time',
				position: 'bottom',
				display: true,
				time: {
				  parser: true,
				  displayFormats: {
					'second': 'mm:ss',
					'minute': 'mm:ss'
				  },
				  tooltipFormat : "mm:ss"
				},
			  }],
			  yAxes: [{
				type: 'linear',
				position: 'left',
				display: true,
				ticks: {
				  beginAtZero: true
				}
				}],
			},
			///Boolean - Whether grid lines are shown across the chart
			scaleShowGridLines : false,
			//String - Colour of the grid lines
			scaleGridLineColor : "rgba(0,0,0,.05)",
			//Number - Width of the grid lines
			scaleGridLineWidth : 0,
			//Boolean - Whether to show horizontal lines (except X axis)
			scaleShowHorizontalLines: false,
			//Boolean - Whether to show vertical lines (except Y axis)
			scaleShowVerticalLines: false,
			//Boolean - Whether the line is curved between points
			bezierCurve : true,
			//Number - Tension of the bezier curve between points
			bezierCurveTension : 0.9,
			//Boolean - Whether to show a dot for each point
			pointDot : true,
			//Number - Radius of each point dot in pixels
			pointDotRadius : 4,
			//Number - Pixel width of point dot stroke
			pointDotStrokeWidth : 1,
			//Number - amount extra to add to the radius to cater for hit detection outside the drawn point
			pointHitDetectionRadius : 20,
			//Boolean - Whether to show a stroke for datasets
			datasetStroke : true,
			//Number - Pixel width of dataset stroke
			datasetStrokeWidth : 2,
			//Boolean - Whether to fill the dataset with a colour
			datasetFill : false,
			//String - A legend template
			legendTemplate : "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++)\{\%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label)\{\%><%=datasets[i].label%><\%\}%></li><\%\}%></ul>"
		};

		var ctx = document.getElementById("myChart");
		var myLineChart = new Chart(ctx, {
			type: 'line',
			data: data,
			options: options
		});
	}
</script>